# https://github.com/mozilla/cbindgen/blob/master/docs.md#cbindgentoml

language = "C"
cpp_compat = true
include_guard = "FOXGLOVE_H"
header = """
/*
 * NOTE: This file is autogenerated by cbindgen.
 *
 * Foxglove SDK
 * https://github.com/foxglove/foxglove-sdk
 */
"""

usize_is_size_t = true

# Note: cbindgen applies the nonnull attribute to struct members and function params, but clang only
# allows it on function params, so we can't actually use it, but can keep it as a hint
after_includes = """

#ifndef FOXGLOVE_NONNULL
#define FOXGLOVE_NONNULL
#endif
"""

[ptr]
non_null_attribute = "FOXGLOVE_NONNULL"

[enum]
rename_variants = "QUALIFIED_SCREAMING_SNAKE_CASE"
enum_class = true

prefix_with_name = false
[export.rename]
FoxgloveString = "foxglove_string"
FoxgloveWebSocketServer = "foxglove_websocket_server"
FoxgloveChannel = "foxglove_channel"
FoxgloveSchema = "foxglove_schema"
FoxgloveServerCallbacks = "foxglove_server_callbacks"
FoxgloveServerOptions = "foxglove_server_options"
FoxgloveConnectionGraph = "foxglove_connection_graph"
FoxgloveMcapOptions = "foxglove_mcap_options"
FoxgloveMcapCompression = "foxglove_mcap_compression"
FoxgloveMcapWriter = "foxglove_mcap_writer"
FoxgloveServerCapability = "foxglove_server_capability"
FoxgloveClientChannel = "foxglove_client_channel"
FoxgloveContext = "foxglove_context"
FoxgloveError = "foxglove_error"
CameraCalibration = "foxglove_camera_calibration"
CircleAnnotation = "foxglove_circle_annotation"
Color = "foxglove_color"
CompressedImage = "foxglove_compressed_image"
CompressedVideo = "foxglove_compressed_video"
FrameTransform = "foxglove_frame_transform"
FrameTransforms = "foxglove_frame_transforms"
GeoJson = "foxglove_geo_json"
Grid = "foxglove_grid"
ImageAnnotations = "foxglove_image_annotations"
KeyValuePair = "foxglove_key_value_pair"
LaserScan = "foxglove_laser_scan"
LocationFix = "foxglove_location_fix"
Log = "foxglove_log"
PackedElementField = "foxglove_packed_element_field"
Point2 = "foxglove_point2"
Point3 = "foxglove_point3"
PointCloud = "foxglove_point_cloud"
PointsAnnotation = "foxglove_points_annotation"
Pose = "foxglove_pose"
PoseInFrame = "foxglove_pose_in_frame"
PosesInFrame = "foxglove_poses_in_frame"
Quaternion = "foxglove_quaternion"
RawAudio = "foxglove_raw_audio"
RawImage = "foxglove_raw_image"
SceneEntity = "foxglove_scene_entity"
SceneEntityDeletion = "foxglove_scene_entity_deletion"
SceneUpdate = "foxglove_scene_update"
TextAnnotation = "foxglove_text_annotation"
Vector2 = "foxglove_vector2"
Vector3 = "foxglove_vector3"
